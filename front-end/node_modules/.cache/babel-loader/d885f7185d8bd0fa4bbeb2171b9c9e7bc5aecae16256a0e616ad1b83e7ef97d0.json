{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SSAFY\\\\Desktop\\\\S09P12E207\\\\front-end\\\\src\\\\pages\\\\during_match\\\\Navigation.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from \"react\";\nimport EntireSectionMapImg from './img/sectionMap.png';\nimport sectionMapImg2F from './img/sectionMap_2F.png';\nimport sectionMapImg3F from './img/sectionMap_3F.png';\nimport sectionMapImg5F from './img/sectionMap_5F.png';\nimport mapImg from './img/mapImg.png';\nimport ToSeat from \"../../components/ToSeat\";\nimport './styles/Navigation.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Navigation() {\n  _s();\n  const naviCanvasRef = useRef(null);\n  const [floorImg, setFloorImg] = useState('');\n  const vertices = [\n  // {x: 20, y: 100},\n  // {x: 20, y: 220},\n  // {x: 120, y: 310},\n  // {x: 210, y: 310}\n  {\n    \"pointId\": 505,\n    \"pointName\": \"5층 13번게이트\",\n    \"type\": \"G\",\n    \"x\": 20,\n    \"y\": 100\n  }, {\n    \"pointId\": 504,\n    \"pointName\": \"5층 13번게이트\",\n    \"type\": \"G\",\n    \"x\": 20,\n    \"y\": 220\n  }, {\n    \"pointId\": 504,\n    \"pointName\": \"5층 13번게이트\",\n    \"type\": \"S\",\n    \"x\": 120,\n    \"y\": 310\n  }];\n  useEffect(() => {\n    setFloorImg(EntireSectionMapImg);\n\n    // if (floor === 2){\n    //   setFloorImg(sectionMapImg2F);\n    // } else if (floor === 3) {\n    //   setFloorImg(sectionMapImg3F);\n    // } else if (floor === 5) {\n    //   setFloorImg(sectionMapImg5F);\n    // } else {\n    //   setFloorImg(EntireSectionMapImg);\n    // }\n\n    const naviCanvas = naviCanvasRef.current;\n    naviCanvas.width = 328;\n    naviCanvas.height = 400;\n    const ctx = naviCanvas.getContext(\"2d\");\n    function calcWaypoints(vertices) {\n      var waypoints = [];\n      for (var i = 1; i < vertices.length; i++) {\n        if (vertices[i][\"type\"] === \"S\") {\n          setFloorImg(sectionMapImg3F);\n        }\n        var pt0 = vertices[i - 1];\n        var pt1 = vertices[i];\n        var dx = pt1[\"x\"] - pt0[\"x\"];\n        var dy = pt1[\"y\"] - pt0[\"y\"];\n        for (var j = 0; j < 100; j++) {\n          var x = pt0.x + dx * j / 100;\n          var y = pt0.y + dy * j / 100;\n          waypoints.push({\n            x: x,\n            y: y\n          });\n        }\n      }\n      return waypoints;\n    }\n    var points = calcWaypoints(vertices);\n    var t = 1;\n    animate();\n    function animate() {\n      if (t < points.length - 1) {\n        requestAnimationFrame(animate);\n      }\n      ctx.beginPath();\n      ctx.moveTo(points[t - 1].x, points[t - 1].y);\n      ctx.lineTo(points[t].x, points[t].y);\n      ctx.lineWidth = '12';\n      ctx.lineCap = 'round';\n      ctx.strokeStyle = 'blue';\n      ctx.stroke();\n      t++;\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"navigation-container font\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navigation-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"NAVIGATION\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ToSeat, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navigation-body\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"points-img\",\n        src: floorImg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: naviCanvasRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 5\n  }, this);\n}\n_s(Navigation, \"fHLcnN1uTauvnmdUpRG+7Whmh+I=\");\n_c = Navigation;\nvar _c;\n$RefreshReg$(_c, \"Navigation\");","map":{"version":3,"names":["React","useEffect","useRef","useState","EntireSectionMapImg","sectionMapImg2F","sectionMapImg3F","sectionMapImg5F","mapImg","ToSeat","jsxDEV","_jsxDEV","Navigation","_s","naviCanvasRef","floorImg","setFloorImg","vertices","naviCanvas","current","width","height","ctx","getContext","calcWaypoints","waypoints","i","length","pt0","pt1","dx","dy","j","x","y","push","points","t","animate","requestAnimationFrame","beginPath","moveTo","lineTo","lineWidth","lineCap","strokeStyle","stroke","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","ref","_c","$RefreshReg$"],"sources":["C:/Users/SSAFY/Desktop/S09P12E207/front-end/src/pages/during_match/Navigation.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport EntireSectionMapImg from './img/sectionMap.png';\r\nimport sectionMapImg2F from './img/sectionMap_2F.png';\r\nimport sectionMapImg3F from './img/sectionMap_3F.png';\r\nimport sectionMapImg5F from './img/sectionMap_5F.png';\r\nimport mapImg from './img/mapImg.png'\r\nimport ToSeat from \"../../components/ToSeat\";\r\nimport './styles/Navigation.css'\r\n\r\nexport default function Navigation() {\r\n  const naviCanvasRef = useRef(null);\r\n  const [floorImg, setFloorImg] = useState('');\r\n\r\n\r\n  const vertices = [\r\n    // {x: 20, y: 100},\r\n    // {x: 20, y: 220},\r\n    // {x: 120, y: 310},\r\n    // {x: 210, y: 310}\r\n    {\r\n      \"pointId\": 505,\r\n      \"pointName\": \"5층 13번게이트\",\r\n      \"type\": \"G\",\r\n      \"x\": 20,\r\n      \"y\": 100\r\n      },\r\n    {\r\n      \"pointId\": 504,\r\n      \"pointName\": \"5층 13번게이트\",\r\n      \"type\": \"G\",\r\n      \"x\": 20,\r\n      \"y\": 220\r\n      },\r\n    {\r\n      \"pointId\": 504,\r\n      \"pointName\": \"5층 13번게이트\",\r\n      \"type\": \"S\",\r\n      \"x\": 120,\r\n      \"y\": 310\r\n      },\r\n    ];\r\n\r\n    useEffect(() => {\r\n\r\n      setFloorImg(EntireSectionMapImg);\r\n\r\n      // if (floor === 2){\r\n      //   setFloorImg(sectionMapImg2F);\r\n      // } else if (floor === 3) {\r\n      //   setFloorImg(sectionMapImg3F);\r\n      // } else if (floor === 5) {\r\n      //   setFloorImg(sectionMapImg5F);\r\n      // } else {\r\n      //   setFloorImg(EntireSectionMapImg);\r\n      // }\r\n\r\n\r\n    const naviCanvas = naviCanvasRef.current;\r\n    naviCanvas.width = 328;\r\n    naviCanvas.height = 400;\r\n    const ctx = naviCanvas.getContext(\"2d\")\r\n\r\n    function calcWaypoints(vertices){\r\n      var waypoints=[];\r\n      for(var i=1;i<vertices.length;i++){\r\n          if (vertices[i][\"type\"] === \"S\"){\r\n            setFloorImg(sectionMapImg3F);\r\n          }\r\n\r\n          var pt0=vertices[i-1];\r\n          var pt1=vertices[i];\r\n          var dx=pt1[\"x\"]-pt0[\"x\"];\r\n          var dy=pt1[\"y\"]-pt0[\"y\"];\r\n          for(var j=0;j<100;j++){\r\n              var x=pt0.x+dx*j/100;\r\n              var y=pt0.y+dy*j/100;\r\n              waypoints.push({x:x,y:y});\r\n          }\r\n      }\r\n      return(waypoints);\r\n    }\r\n\r\n    var points=calcWaypoints(vertices);\r\n\r\n    var t=1;\r\n\r\n    animate();\r\n\r\n\r\n    function animate(){\r\n        if(t<points.length-1){ requestAnimationFrame(animate); }\r\n        ctx.beginPath();\r\n        ctx.moveTo(points[t-1].x,points[t-1].y);\r\n        ctx.lineTo(points[t].x,points[t].y);\r\n        ctx.lineWidth = '12';\r\n        ctx.lineCap = 'round';\r\n        ctx.strokeStyle = 'blue';\r\n        ctx.stroke();\r\n        t++;\r\n    }\r\n  })\r\n\r\n\r\n  return (\r\n    <div className=\"navigation-container font\">\r\n      <div className=\"navigation-header\">\r\n        <h1>NAVIGATION</h1>\r\n        <ToSeat/>\r\n      </div>\r\n      <div className=\"navigation-body\">\r\n        <img className=\"points-img\" src={floorImg}/>\r\n        <canvas ref={naviCanvasRef}></canvas>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}